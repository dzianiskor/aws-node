CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

create table products (
  id uuid PRIMARY KEY DEFAULT uuid_generate_v4(),
  title text not null,
  description text,
  price integer
)

create table stocks (
  product_id uuid PRIMARY KEY,
  count integer,
  foreign key ("product_id") references products("id")
)

ALTER TABLE products
    ADD COLUMN image text,
    ADD COLUMN year  varchar(5);

insert into products(title, description, price, image, year)
values ('Marvel Человек-Паук',
        'Новые приключения Человека-Паука дадут читателям свежий взгляд на жизнь супергероя! Дополняя историю, рассказанную компанией Insomniac Games, в сюжете \"Война в городе\" мы узнаем расширенную историю двух злодеев вселенной, с которыми была тесно связана жизнь Паркера – гениального учёного и ментора Питера доктора Октавиуса, пытающегося создать лекарство от нейродегенеративных расстройств, и мистера Негатива, который является директором в приюте, где работает тётя Питера. Вместе они встают на путь злодеев с целью отомстить Нью-Йорку и мэру Озборну, а Паркер во что бы то ни стало должен им помешать, ведь на кону не только судьба города, но и жизнь его дорогой тётушки!',
        '30', 'https://static-sl.insales.ru/images/products/1/3121/464260145/6.jpg', '2021'),
       ('Супермен. Что случилось с Человеком Завтрашнего Дня? Издание делюкс',
        'Скромный репортер «Дэйли плэнет» Тим Крейн навещает миссис Лоис Эллиот, некогда знаменитую в Метрополисе журналистку, которая теперь живет тихой и спокойной жизнью в среднезападном городке вместе с мужем-трудягой и маленьким сыном. Крейн хочет взять интервью у Лоис о последних днях Супермена: ведь именно она была рядом с героем, когда самые злейшие враги, вступив в сговор, нанесли ему сокрушительный удар. Это время стало переломным. Тогда величайший защитник мира окончил свой земной путь…',
        '30', 'https://static-sl.insales.ru/images/products/1/4428/443298124/15.jpg', '2021'),
        ('Injustice. Боги среди нас. Год второй. Издание делюкс',
        'Супермен продолжает держать Землю в стальном кулаке и принимает вызов от Корпуса Зелёных Фонарей в продолжении комикса по мотивам популярной видеоигры «Injustice. Gods among us» от сценариста Тома Тэйлора и художников Бруно Редондо, Джереми Раапака и Майка С. Миллера – «Injustice. Боги среди нас. Год второй. Издание делюкс». Уже в типографии!',
        '80', 'https://static-sl.insales.ru/images/products/1/1606/442598982/judHXyQxufE.jpg', '2021'),
       ('Injustice. Боги среди нас. Год первый. Издание делюкс',
        'Когда Человек из Стали не сумел уберечь тех, кто был ему дороже всего на свете, он оставил попытки спасти человечество… и взял власть над планетой в свои руки.\nОтныне он намерен насаждать мир любыми средствами. И единственный, кто выступает против абсолютной власти Супермена, — Бэтмен. Темный Рыцарь не позволит бывшему другу загнать жизнь в уродливые рамки диктатуры сверхлюдей.',
        '75', 'https://static-sl.insales.ru/images/products/1/7742/423501374/rVvKltOfgcA.jpg', '2019'),
       ('V - значит вендетта',
        'Мировая ядерная война не затронула Британию напрямую, но отозвалась политическим хаосом, из которого вырос фашистский режим. Оппозиция и меньшинство физически уничтожены, и стране позволено в молчании слушать лишь один голос — Голос Судьбы.',
        '20',
        'https://static-sl.insales.ru/images/products/1/4276/205312180/61d071bd82ef9e3a2be4f7671b46b66d606b95d7.jpg',
        '2016'),
       ('Injustice. Боги среди нас. Год четвертый. Издание делюкс',
        'Супермен и перешедшая на его сторону Лига Справедливости продолжают удерживать власть над всей Землёй. Никто не в силах сопротивляться их воле и порядкам. Бэтмен был среди тех, кто восстал против потерявшего разум Супермена, но его отряд повстанцев был разгромлен. Все варианты испробованы, надежды на благополучный исход нет…',
        '60', 'https://static-sl.insales.ru/images/products/1/967/462635975/FXJZHttIsJQ.jpg', '2019'),
       ('Аквамен. Книга 1. Впадина',
        'Аквамен царствует в водах, покрывающих большую часть Земли. Однако на поверхности – в мире, ради которого сражается он и его беспощадная возлюбленная Мера, – повелитель оказывается вне своей стихии. Человечество не испытывает к нему никакого почтения, как и к океану, которым он правит.\n\nЛюди могут его не любить. Но они в нем нуждаются.',
        '15',
        'https://static-sl.insales.ru/images/products/1/7954/205315858/8c3e7491a55a9d541cc945811a89a612c5c42e75.jpg',
        '2015'),
       ('Бэтмен. Detective Comics. Высшее общество',
        'Восемь громких преступлений за последние два месяца произошли в Готэме. Всякий раз мишенью становился кто-то из городского высшего общества. Как удавалось преступникам так близко подобраться к жертвам, оставалось загадкой, пока Бэтмен не прихлопнул Джонни Лэнга, мелкого обитателя преступного дна и подельника готэмских злодеев. На Джонни был шикарный костюм – издалека он выглядел как приличный человек. Кто за этим стоит?',
        '25', 'https://static-sl.insales.ru/images/products/1/2707/454265491/ublVztjFFDY.jpg', '2012');

INSERT INTO stocks(product_id, count)
VALUES ('1bb9c8c4-d6c3-4159-b847-ff0805a35b4b', '20'),
       ('8b8cf9ec-365c-4c40-8d9f-25703de6a04f', '15'),
       ('8b0c1c63-6066-4f10-b6ee-a789a2783f32', '50'),
       ('8d0d0860-3c67-4c59-b710-91e41fb37b78', '11'),
       ('735e2a27-f52f-43c7-a3aa-3d127f67bcbb', '6'),
       ('747ba2d8-089e-405a-bd58-16e47d21d273', '8'),
       ('4927a4bd-7448-429e-b3c6-9031e082022d', '52'),
       ('cff88beb-8b1e-4dee-b404-1e2a5d7df94e', '6');
